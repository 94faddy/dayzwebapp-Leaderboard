<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="UTF-8">

  <title>DayZ | Leaderboard</title>

  <link rel="stylesheet" type="text/css" href="/assats/css/new.css">
  <link rel="stylesheet" type="text/css" href="/assats/css/main.css">
  <link rel="stylesheet" type="text/css" href="/assats/css/styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" rel="stylesheet">
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

  <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>

  <meta property="og:title" content="DayZ Leaderboard"/>
  <meta property="og:type" content="website"/>
  <meta property="og:url" content="https://localhost"/>
  <meta property="og:image" content="favicon.ico"/>
  <meta property="og:description" content="We are dayz server that is open to play for free. Both the original and pirated game can be played together. The system is stable. We manage events all the time. The development team supports 24 hours a day. There are many systems in the server. Come join us at DayZ PhyWizard."/>
  <meta name="theme-color" content="#2F3136">
  <meta name="twitter:card" content="summary">
  <meta property="og:image:width" content="80">
  <meta property="og:image:height" content="80">

  <style>
    body {
      font-family: 'Open Sans', Arial, sans-serif;
      text-align: center;
      /* Background image added here. Adjust the URL to your desired image */
      background: url('https://kelsiestevensonphotography.photo.blog/wp-content/uploads/2020/04/bf8a1a6e0b9cd98fa59f261df61d3432.png') no-repeat center center fixed;
      background-size: cover;
      margin: 0;
      padding: 0;
    }
    h1 {
      margin-top: 20px;
      color: #fff;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.7);
    }
    table {
      width: 80%;
      margin: 20px auto;
      border-collapse: collapse;
      background: #fff;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    th, td {
      padding: 12px;
      border: 1px solid #ddd;
      text-align: center;
    }
    th {
      background-color: #333;
      color: #fff;
    }
  </style>
</head>
<body>
  <!-- Logo Section -->
  <div class="logo-container">
      <img src="assats/img/DayZ.PNG" alt="Leaderboard Logo" class="logo">
  </div>
  <h1>Leaderboard</h1>
  <% 
    // Helper function to convert minutes into "X days, Y hours and Z minutes"
    function formatTime(minutes) {
      var days = Math.floor(minutes / 1440);
      var hours = Math.floor((minutes % 1440) / 60);
      var mins = minutes % 60;
      return days + " days, " + hours + " hours and " + mins + " minutes";
    }
  %>
  <table>
    <tr>
      <th>Rank</th>
      <th>Player</th>
      <th>Time Played</th>
      <th>Kills</th>
      <th>Deaths</th>
      <th>KDR</th>
      <th>Longest Kill</th>
    </tr>
    <% statsData.forEach((player, index) => { %>
      <tr>
        <td><%= index + 1 %></td>
        <td><%= player.name || "Unknown" %></td>
        <!-- Displaying time played using player.timeSurvived property -->
        <td><%= player.timeSurvived ? formatTime(player.timeSurvived) : "N/A" %></td>
        <td><%= player.kills ? player.kills.length : 0 %></td>
        <td><%= player.deaths ? player.deaths.length : 0 %></td>
        <td>
          <% if (player.kills && player.deaths && player.deaths.length > 0) { %>
            <%= (player.kills.length / player.deaths.length).toFixed(2) %>
          <% } else { %>
            0.00
          <% } %>
        </td>
        <td><%= player.longestShot || "N/A" %> m</td>
      </tr>
    <% }); %>
  </table>
</body>
</html>
